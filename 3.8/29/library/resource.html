
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>resource --- リソース使用状態の情報 &#8212; Python 3.8.3rc1 ドキュメント</title>
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Python 3.8.3rc1 ドキュメント 内を検索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="copyright" title="著作権" href="../copyright.html" />
    <link rel="next" title="nis --- Sun の NIS (Yellow Pages) へのインタフェース" href="nis.html" />
    <link rel="prev" title="pipes --- シェルパイプラインへのインタフェース" href="pipes.html" />
    <link rel="canonical" href="https://docs.python.org/3/library/resource.html" />
    
      
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>

    <link rel="shortcut icon" type="image/png" href="../_static/py.png" />
    
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    
     


  </head><body>
  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="nis.html" title="nis --- Sun の NIS (Yellow Pages) へのインタフェース"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="pipes.html" title="pipes --- シェルパイプラインへのインタフェース"
             accesskey="P">前へ</a> |</li>

    <li><img src="../_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <a href="../index.html">3.8.3rc1 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準ライブラリ</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="unix.html" accesskey="U">Unix 固有のサービス</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="クイック検索" type="text" name="q" />
          <input type="submit" value="検索" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-resource">
<span id="resource-resource-usage-information"></span><h1><a class="reference internal" href="#module-resource" title="resource: An interface to provide resource usage information on the current process. (Unix)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">resource</span></code></a> --- リソース使用状態の情報<a class="headerlink" href="#module-resource" title="このヘッドラインへのパーマリンク">¶</a></h1>
<hr class="docutils" />
<p>このモジュールでは、プログラムによって使用されているシステムリソースを計測したり制御するための基本的なメカニズムを提供します。</p>
<p>特定のシステムリソースを指定したり、現在のプロセスやその子プロセスのリソース使用情報を要求するためにシンボル定数が使われます。</p>
<p>システムコールが失敗した場合 <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> を送出します。</p>
<dl class="exception">
<dt id="resource.error">
<em class="property">exception </em><code class="descclassname">resource.</code><code class="descname">error</code><a class="headerlink" href="#resource.error" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> の非推奨のエイリアスです。</p>
<div class="versionchanged">
<p><span class="versionmodified">バージョン 3.3 で変更: </span><span class="target" id="index-2"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-3151"><strong>PEP 3151</strong></a> に基づき、このクラスは <a class="reference internal" href="exceptions.html#OSError" title="OSError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> のエイリアスになりました。</p>
</div>
</dd></dl>

<div class="section" id="resource-limits">
<h2>リソースの制限<a class="headerlink" href="#resource-limits" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>リソースの使用は下に述べる <a class="reference internal" href="#resource.setrlimit" title="resource.setrlimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">setrlimit()</span></code></a> 関数を使って制限することができます。各リソースは二つ組の制限値: ソフトリミット (soft limit) 、およびハードリミット (hard limit) 、で制御されます。ソフトリミットは現在の制限値で、時間とともにプロセスによって下げたり上げたりできます。ソフトリミットはハードリミットを超えることはできません。ハードリミットはソフトリミットよりも高い任意の値まで下げることができますが、上げることはできません。 (スーパユーザの有効な UID を持つプロセスのみがハードリミットを上げることができます。)</p>
<p>制限をかけるべく指定できるリソースはシステムに依存します。指定できるリソースは <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/getrlimit(2)">getrlimit(2)</a></em> マニュアルページで解説されています。以下に列挙するリソースは背後のオペレーティングシステムがサポートする場合にサポートされています; オペレーティングシステム側で値を調べたり制御したりできないリソースは、そのプラットフォーム向けのこのモジュール内では定義されていません。</p>
<dl class="data">
<dt id="resource.RLIM_INFINITY">
<code class="descclassname">resource.</code><code class="descname">RLIM_INFINITY</code><a class="headerlink" href="#resource.RLIM_INFINITY" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>無制限のリソースの上限を示すための定数です。</p>
</dd></dl>

<dl class="function">
<dt id="resource.getrlimit">
<code class="descclassname">resource.</code><code class="descname">getrlimit</code><span class="sig-paren">(</span><em>resource</em><span class="sig-paren">)</span><a class="headerlink" href="#resource.getrlimit" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>resource</em> の現在のソフトおよびハードリミットを表すタプル <code class="docutils literal notranslate"><span class="pre">(soft,</span> <span class="pre">hard)</span></code> を返します。無効なリソースが指定された場合には <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> が、背後のシステムコールが予期せず失敗した場合には <a class="reference internal" href="#resource.error" title="resource.error"><code class="xref py py-exc docutils literal notranslate"><span class="pre">error</span></code></a> が送出されます。</p>
</dd></dl>

<dl class="function">
<dt id="resource.setrlimit">
<code class="descclassname">resource.</code><code class="descname">setrlimit</code><span class="sig-paren">(</span><em>resource</em>, <em>limits</em><span class="sig-paren">)</span><a class="headerlink" href="#resource.setrlimit" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>resource</em> の新たな消費制限を設定します。 <em>limits</em> 引数には、タプル <code class="docutils literal notranslate"><span class="pre">(soft,</span> <span class="pre">hard)</span></code> による二つの整数で、新たな制限を記述しなければなりません。 <a class="reference internal" href="#resource.RLIM_INFINITY" title="resource.RLIM_INFINITY"><code class="xref py py-data docutils literal notranslate"><span class="pre">RLIM_INFINITY</span></code></a> を指定することで、無制限を要求することが出来ます。</p>
<p>無効なリソースが指定された場合、ソフトリミットの値がハードリミットの値を超えている場合、プロセスがハードリミットを引き上げようとした場合には <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> が送出されます。リソースのハードリミットやシステムリミットが無制限でないのに <a class="reference internal" href="#resource.RLIM_INFINITY" title="resource.RLIM_INFINITY"><code class="xref py py-data docutils literal notranslate"><span class="pre">RLIM_INFINITY</span></code></a> を指定した場合も、 <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> になります。スーパーユーザの実効 UID を持ったプロセスは無制限を含めあらゆる妥当な制限値を要求出来ますが、システムが課している制限を超過した要求ではやはり <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> となります。</p>
<p><code class="docutils literal notranslate"><span class="pre">setrlimit</span></code> は背後のシステムコールが予期せず失敗した場合に、 <a class="reference internal" href="#resource.error" title="resource.error"><code class="xref py py-exc docutils literal notranslate"><span class="pre">error</span></code></a> を送出する場合があります。</p>
<p>VxWorks only supports setting <a class="reference internal" href="#resource.RLIMIT_NOFILE" title="resource.RLIMIT_NOFILE"><code class="xref py py-data docutils literal notranslate"><span class="pre">RLIMIT_NOFILE</span></code></a>.</p>
<p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code class="docutils literal notranslate"><span class="pre">resource.setrlimit</span></code> with arguments <code class="docutils literal notranslate"><span class="pre">resource</span></code>, <code class="docutils literal notranslate"><span class="pre">limits</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="resource.prlimit">
<code class="descclassname">resource.</code><code class="descname">prlimit</code><span class="sig-paren">(</span><em>pid</em>, <em>resource</em><span class="optional">[</span>, <em>limits</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#resource.prlimit" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>1つの関数の中で <a class="reference internal" href="#resource.setrlimit" title="resource.setrlimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">setrlimit()</span></code></a> と <a class="reference internal" href="#resource.getrlimit" title="resource.getrlimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">getrlimit()</span></code></a> を組み合わせ、任意のプロセスのリソースの制限値を取得したり設定したりします。
<em>pid</em> が 0 の場合は、現在のプロセスに適用されます。
<em>resource</em> および <em>limits</em> は、 <em>limits</em> がオプションであることを除けば、 <a class="reference internal" href="#resource.setrlimit" title="resource.setrlimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">setrlimit()</span></code></a> と同じ意味です。</p>
<p><em>limits</em> が与えられないときは、関数はプロセス <em>pid</em> の <em>resource</em> の制限値を返します。
<em>limits</em> が与えられたときは、プロセスの <em>resource</em> の制限値が設定され、設定が変更される前のリソースの制限値が返されます。</p>
<p><em>pid</em> が見付からないときは <a class="reference internal" href="exceptions.html#ProcessLookupError" title="ProcessLookupError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ProcessLookupError</span></code></a> を、ユーザがプロセスの <code class="docutils literal notranslate"><span class="pre">CAP_SYS_RESOURCE</span></code> を持ってないときは <a class="reference internal" href="exceptions.html#PermissionError" title="PermissionError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">PermissionError</span></code></a> を送出します。</p>
<p class="audit-hook">Raises an <a class="reference internal" href="sys.html#auditing"><span class="std std-ref">auditing event</span></a> <code class="docutils literal notranslate"><span class="pre">resource.prlimit</span></code> with arguments <code class="docutils literal notranslate"><span class="pre">pid</span></code>, <code class="docutils literal notranslate"><span class="pre">resource</span></code>, <code class="docutils literal notranslate"><span class="pre">limits</span></code>.</p>
<p class="availability"><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux 2.6.36 or later with glibc 2.13 or later.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.4 で追加.</span></p>
</div>
</dd></dl>

<p>以下のシンボルは、後に述べる関数 <a class="reference internal" href="#resource.setrlimit" title="resource.setrlimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">setrlimit()</span></code></a> および <a class="reference internal" href="#resource.getrlimit" title="resource.getrlimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">getrlimit()</span></code></a> を使って消費量を制御することができるリソースを定義しています。これらのシンボルの値は、C プログラムで使われているシンボルと全く同じです。</p>
<p><em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/getrlimit(2)">getrlimit(2)</a></em> の Unix マニュアルページには、指定可能なリソースが列挙されています。全てのシステムで同じシンボルが使われているわけではなく、また同じリソースを表すために同じ値が使われているとも限らないので注意してください。このモジュールはプラットフォーム間の相違を隠蔽しようとはしていません --- あるプラットフォームで定義されていないシンボルは、そのプラットフォーム向けの本モジュールでは利用することができません。</p>
<dl class="data">
<dt id="resource.RLIMIT_CORE">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_CORE</code><a class="headerlink" href="#resource.RLIMIT_CORE" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のプロセスが生成できるコアファイルの最大 (バイト) サイズです。プロセスの全体イメージを入れるためにこの値より大きなサイズのコアファイルが要求された結果、部分的なコアファイルが生成される可能性があります。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_CPU">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_CPU</code><a class="headerlink" href="#resource.RLIMIT_CPU" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセッサが利用することができる最大プロセッサ時間 (秒) です。この制限を超えた場合、 <code class="xref py py-const docutils literal notranslate"><span class="pre">SIGXCPU</span></code> シグナルがプロセスに送られます。 (どのようにしてシグナルを捕捉したり、例えば開かれているファイルをディスクにフラッシュするといった有用な処理を行うかについての情報は、 <a class="reference internal" href="signal.html#module-signal" title="signal: Set handlers for asynchronous events."><code class="xref py py-mod docutils literal notranslate"><span class="pre">signal</span></code></a> モジュールのドキュメントを参照してください)</p>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_FSIZE">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_FSIZE</code><a class="headerlink" href="#resource.RLIMIT_FSIZE" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスが作成するファイルの最大サイズです。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_DATA">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_DATA</code><a class="headerlink" href="#resource.RLIMIT_DATA" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスのヒープの最大 (バイト) サイズです。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_STACK">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_STACK</code><a class="headerlink" href="#resource.RLIMIT_STACK" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のプロセスのコールスタックの最大サイズ (バイト単位) です。
これはマルチスレッドプロセスのメインスレッドのスタックのみに影響します。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_RSS">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_RSS</code><a class="headerlink" href="#resource.RLIMIT_RSS" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスが取りうる最大 RAM 常駐ページサイズ (resident set size) です。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_NPROC">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_NPROC</code><a class="headerlink" href="#resource.RLIMIT_NPROC" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のプロセスが生成できるプロセスの上限です。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_NOFILE">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_NOFILE</code><a class="headerlink" href="#resource.RLIMIT_NOFILE" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のプロセスが開けるファイル記述子の上限です。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_OFILE">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_OFILE</code><a class="headerlink" href="#resource.RLIMIT_OFILE" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#resource.RLIMIT_NOFILE" title="resource.RLIMIT_NOFILE"><code class="xref py py-const docutils literal notranslate"><span class="pre">RLIMIT_NOFILE</span></code></a> の BSD での名称です。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_MEMLOCK">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_MEMLOCK</code><a class="headerlink" href="#resource.RLIMIT_MEMLOCK" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>メモリ中でロックできる最大アドレス空間です。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_VMEM">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_VMEM</code><a class="headerlink" href="#resource.RLIMIT_VMEM" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスが占有できるマップメモリの最大領域です。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_AS">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_AS</code><a class="headerlink" href="#resource.RLIMIT_AS" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>アドレス空間でプロセスが占有できる最大領域 (バイト単位) です。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_MSGQUEUE">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_MSGQUEUE</code><a class="headerlink" href="#resource.RLIMIT_MSGQUEUE" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>POSIX メッセージキューに割り当てることの出来るバイト数です。</p>
<p class="availability"><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux 2.6.8 or later.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_NICE">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_NICE</code><a class="headerlink" href="#resource.RLIMIT_NICE" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスの nice の上限です (20 - rlim_cur)。</p>
<p class="availability"><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux 2.6.12 or later.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_RTPRIO">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_RTPRIO</code><a class="headerlink" href="#resource.RLIMIT_RTPRIO" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>リアルタイム優先順位の上限です。</p>
<p class="availability"><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux 2.6.12 or later.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_RTTIME">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_RTTIME</code><a class="headerlink" href="#resource.RLIMIT_RTTIME" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>The time limit (in microseconds) on CPU time that a process can spend
under real-time scheduling without making a blocking syscall.</p>
<p class="availability"><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux 2.6.25 or later.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_SIGPENDING">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_SIGPENDING</code><a class="headerlink" href="#resource.RLIMIT_SIGPENDING" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスがキュー出来るシグナルの数です。</p>
<p class="availability"><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: Linux 2.6.8 or later.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_SBSIZE">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_SBSIZE</code><a class="headerlink" href="#resource.RLIMIT_SBSIZE" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>The maximum size (in bytes) of socket buffer usage for this user.
This limits the amount of network memory, and hence the amount of mbufs,
that this user may hold at any time.</p>
<p class="availability"><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: FreeBSD 9 or later.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_SWAP">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_SWAP</code><a class="headerlink" href="#resource.RLIMIT_SWAP" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>The maximum size (in bytes) of the swap space that may be reserved or
used by all of this user id's processes.
This limit is enforced only if bit 1 of the vm.overcommit sysctl is set.
Please see <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/tuning(7)">tuning(7)</a></em> for a complete description of this sysctl.</p>
<p class="availability"><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: FreeBSD 9 or later.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.4 で追加.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="resource.RLIMIT_NPTS">
<code class="descclassname">resource.</code><code class="descname">RLIMIT_NPTS</code><a class="headerlink" href="#resource.RLIMIT_NPTS" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このユーザ ID が作成する擬似端末の数の上限です。</p>
<p class="availability"><a class="reference internal" href="intro.html#availability"><span class="std std-ref">Availability</span></a>: FreeBSD 9 or later.</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.4 で追加.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="resource-usage">
<h2>リソースの使用状態<a class="headerlink" href="#resource-usage" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>以下の関数はリソース使用情報を取得するために使われます:</p>
<dl class="function">
<dt id="resource.getrusage">
<code class="descclassname">resource.</code><code class="descname">getrusage</code><span class="sig-paren">(</span><em>who</em><span class="sig-paren">)</span><a class="headerlink" href="#resource.getrusage" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>この関数は、 <em>who</em> 引数で指定される、現プロセスおよびその子プロセスによって消費されているリソースを記述するオブジェクトを返します。 <em>who</em> 引数は以下に記述される <code class="xref py py-const docutils literal notranslate"><span class="pre">RUSAGE_*</span></code> 定数のいずれかを使って指定します。</p>
<p>A simple example:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">resource</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># a non CPU-bound task</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">getrusage</span><span class="p">(</span><span class="n">RUSAGE_SELF</span><span class="p">))</span>

<span class="c1"># a CPU-bound task</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span> <span class="o">**</span> <span class="mi">8</span><span class="p">):</span>
   <span class="n">_</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">getrusage</span><span class="p">(</span><span class="n">RUSAGE_SELF</span><span class="p">))</span>
</pre></div>
</div>
<p>返される値の各フィールドはそれぞれ、個々のシステムリソースがどれくらい使用されているか、例えばユーザモードでの実行に費やされた時間やプロセスが主記憶からスワップアウトされた回数、を示しています。幾つかの値、例えばプロセスが使用しているメモリ量は、内部時計の最小単位に依存します。</p>
<p>以前のバージョンとの互換性のため、返される値は 16 要素からなるタプルとしてアクセスすることもできます。</p>
<p>戻り値のフィールド <code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_utime</span></code> および <code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_stime</span></code> は浮動小数点数で、それぞれユーザモードでの実行に費やされた時間、およびシステムモードでの実行に費やされた時間を表します。それ以外の値は整数です。これらの値に関する詳しい情報は <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/getrusage(2)">getrusage(2)</a></em> を調べてください。以下に簡単な概要を示します:</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="31%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">インデックス</th>
<th class="head">フィールド</th>
<th class="head">リソース</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_utime</span></code></td>
<td>time in user mode (float seconds)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">1</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_stime</span></code></td>
<td>time in system mode (float seconds)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">2</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_maxrss</span></code></td>
<td>最大常駐ページサイズ</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">3</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_ixrss</span></code></td>
<td>共有メモリサイズ</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">4</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_idrss</span></code></td>
<td>非共有メモリサイズ</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">5</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_isrss</span></code></td>
<td>非共有スタックサイズ</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">6</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_minflt</span></code></td>
<td>I/O を必要としないページフォールト数</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">7</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_majflt</span></code></td>
<td>I/O を必要とするページフォールト数</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">8</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_nswap</span></code></td>
<td>スワップアウト回数</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">9</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_inblock</span></code></td>
<td>ブロック入力操作数</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">10</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_oublock</span></code></td>
<td>ブロック出力操作数</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">11</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_msgsnd</span></code></td>
<td>送信メッセージ数</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">12</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_msgrcv</span></code></td>
<td>受信メッセージ数</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">13</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_nsignals</span></code></td>
<td>受信シグナル数</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">14</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_nvcsw</span></code></td>
<td>自発的な実行コンテキスト切り替え数</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">15</span></code></td>
<td><code class="xref py py-attr docutils literal notranslate"><span class="pre">ru_nivcsw</span></code></td>
<td>非自発的な実行コンテキスト切り替え数</td>
</tr>
</tbody>
</table>
<p>この関数は無効な <em>who</em> 引数を指定した場合には <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> を送出します。また、異常が発生した場合には <a class="reference internal" href="#resource.error" title="resource.error"><code class="xref py py-exc docutils literal notranslate"><span class="pre">error</span></code></a> 例外が送出される可能性があります。</p>
</dd></dl>

<dl class="function">
<dt id="resource.getpagesize">
<code class="descclassname">resource.</code><code class="descname">getpagesize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#resource.getpagesize" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>システムページ内のバイト数を返します。(ハードウェアページサイズと同じとは限りません。)</p>
</dd></dl>

<p>以下の <code class="xref py py-const docutils literal notranslate"><span class="pre">RUSAGE_*</span></code> シンボルはどのプロセスの情報を提供させるかを指定するために関数 <a class="reference internal" href="#resource.getrusage" title="resource.getrusage"><code class="xref py py-func docutils literal notranslate"><span class="pre">getrusage()</span></code></a> に渡されます。</p>
<dl class="data">
<dt id="resource.RUSAGE_SELF">
<code class="descclassname">resource.</code><code class="descname">RUSAGE_SELF</code><a class="headerlink" href="#resource.RUSAGE_SELF" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#resource.getrusage" title="resource.getrusage"><code class="xref py py-func docutils literal notranslate"><span class="pre">getrusage()</span></code></a> に渡すと呼び出し中のプロセスが消費しているリソースを要求します。そのプロセスの全スレッドが使用するリソースの合計です。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RUSAGE_CHILDREN">
<code class="descclassname">resource.</code><code class="descname">RUSAGE_CHILDREN</code><a class="headerlink" href="#resource.RUSAGE_CHILDREN" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>Pass to <a class="reference internal" href="#resource.getrusage" title="resource.getrusage"><code class="xref py py-func docutils literal notranslate"><span class="pre">getrusage()</span></code></a> to request resources consumed by child processes
of the calling process which have been terminated and waited for.</p>
</dd></dl>

<dl class="data">
<dt id="resource.RUSAGE_BOTH">
<code class="descclassname">resource.</code><code class="descname">RUSAGE_BOTH</code><a class="headerlink" href="#resource.RUSAGE_BOTH" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#resource.getrusage" title="resource.getrusage"><code class="xref py py-func docutils literal notranslate"><span class="pre">getrusage()</span></code></a> に渡すと現在のプロセスおよび子プロセスの両方が消費しているリソースを要求します。全てのシステムで利用可能なわけではありません。</p>
</dd></dl>

<dl class="data">
<dt id="resource.RUSAGE_THREAD">
<code class="descclassname">resource.</code><code class="descname">RUSAGE_THREAD</code><a class="headerlink" href="#resource.RUSAGE_THREAD" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="#resource.getrusage" title="resource.getrusage"><code class="xref py py-func docutils literal notranslate"><span class="pre">getrusage()</span></code></a> に渡すと現在のスレッドが消費しているリソースを要求します。全てのシステムで利用可能なわけではありません。</p>
<div class="versionadded">
<p><span class="versionmodified">バージョン 3.2 で追加.</span></p>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">resource</span></code> --- リソース使用状態の情報</a><ul>
<li><a class="reference internal" href="#resource-limits">リソースの制限</a></li>
<li><a class="reference internal" href="#resource-usage">リソースの使用状態</a></li>
</ul>
</li>
</ul>

  <h4>前のトピックへ</h4>
  <p class="topless"><a href="pipes.html"
                        title="前の章へ"><code class="docutils literal notranslate"><span class="pre">pipes</span></code> --- シェルパイプラインへのインタフェース</a></p>
  <h4>次のトピックへ</h4>
  <p class="topless"><a href="nis.html"
                        title="次の章へ"><code class="docutils literal notranslate"><span class="pre">nis</span></code> --- Sun の NIS (Yellow Pages) へのインタフェース</a></p>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">バグ報告</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.8/Doc/library/resource.rst"
            rel="nofollow">ソースコードを表示
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="nis.html" title="nis --- Sun の NIS (Yellow Pages) へのインタフェース"
             >次へ</a> |</li>
        <li class="right" >
          <a href="pipes.html" title="pipes --- シェルパイプラインへのインタフェース"
             >前へ</a> |</li>

    <li><img src="../_static/py.png" alt=""
             style="vertical-align: middle; margin-top: -1px"/></li>
    <li><a href="https://www.python.org/">Python</a> &#187;</li>
    

    <li>
      <a href="../index.html">3.8.3rc1 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 標準ライブラリ</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="unix.html" >Unix 固有のサービス</a> &#187;</li>
    <li class="right">
        

    <div class="inline-search" style="display: none" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="クイック検索" type="text" name="q" />
          <input type="submit" value="検索" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
    <script type="text/javascript">$('.inline-search').show(0);</script>
         |
    </li>

      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">著作権</a> 2001-2020, Python Software Foundation.
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    最終更新: 5月 12, 2020
    <a href="https://docs.python.org/3/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>

  </body>
</html>